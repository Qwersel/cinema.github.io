<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Groupmate_</title>
    <link rel="stylesheet" href="profile-style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>

    <div class="wrapper">
        <nav class="nav">
            <div class="nav-logo">
                <p>Groupmate_</p>
            </div>
            <div class="nav-menu">
                <ul>
                    <li><a href="#" class="btn" id="goFindBtn">GoFind</a></li>
                    <li><a href="#" class="btn" id="homeBtn">Home</a></li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <div class="profile-box1">
                <div class="profile-photo">
                    <input type="file" id="photoUpload" accept="image/*" hidden>
                    <label for="photoUpload" class="photo-label">Click to add photo</label>
                    <img id="profileImage" src="" alt="Profile Photo">
                </div>

                <div class="profile-info">
                    <label>Name: <input type="text" id="nameField" placeholder="Enter name"></label>
                    <label>Student Num: <input type="text" placeholder="Enter student number"></label>
                    
                    <label>Age:
                        <select id="age">
                            <option value="" disabled selected>Select age</option>
                        </select>
                    </label>

                    <label>Gender:
                        <select id="gender">
                            <option value="" disabled selected>Select gender</option>
                            <option value="Female">Female</option>
                            <option value="Male">Male</option>
                            <option value="Other">Other</option>
                        </select>
                    </label>

                    <label id="customGenderLabel" style="display: none;">Specify Gender: 
                        <input type="text" id="customGender">
                    </label>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById("homeBtn").addEventListener("click", function() {
            window.location.href = "index.html"; // Redirect to home page
        });

        // Populate age dropdown
        const ageSelect = document.getElementById("age");
        for (let i = 14; i <= 50; i++) {
            let option = document.createElement("option");
            option.value = i;
            option.textContent = i;
            ageSelect.appendChild(option);
        }

        // Show/hide custom gender field
        document.getElementById("gender").addEventListener("change", function() {
            const customGenderLabel = document.getElementById("customGenderLabel");
            if (this.value === "Other") {
                customGenderLabel.style.display = "block";
            } else {
                customGenderLabel.style.display = "none";
            }
        });

        document.getElementById("photoUpload").addEventListener("change", function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById("profileImage");
                    img.src = e.target.result;
                    img.style.display = "block";
                };
                reader.readAsDataURL(file);
            }
        });

        // Set name from login (if available)
        document.addEventListener("DOMContentLoaded", function() {
            const username = localStorage.getItem("username");
            if (username) {
                document.getElementById("nameField").value = username;
            }
        });
    </script>

</body>
</html>
